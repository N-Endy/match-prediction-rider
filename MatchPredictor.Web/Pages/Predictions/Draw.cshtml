@page
@model MatchPredictor.Web.Pages.Predictions.Draw

@{
    ViewData["Title"] = "Draw Predictions";
    var today = DateTime.UtcNow.ToString("dd MMM yyyy");
    var count = Model.Matches?.Count ?? 0;
}

<div class="mp-container">
    <div class="mp-page-header">
        <div class="mp-page-title">
            <div class="mp-page-title-icon" style="background: rgba(245, 158, 11, 0.1);">ü§ù</div>
            <h1>Draw Predictions</h1>
        </div>
        <div class="mp-date-badge">üìÖ @today</div>
    </div>

    @if (count > 0)
    {
        <div class="mp-match-count">
            <span class="mp-live-dot"></span>
            @count match@(count != 1 ? "es" : "") found
        </div>

        <div class="mp-predictions-list">
            @foreach (var match in Model.Matches!)
            {
                <div class="mp-prediction-card">
                    <div class="mp-match-info">
                        <div class="mp-match-league">
                            @match.League
                            <span class="mp-time">@match.Time</span>
                        </div>
                        <div class="mp-match-teams">
                            @match.HomeTeam
                            <span class="mp-vs">vs</span>
                            @match.AwayTeam
                        </div>
                    </div>
                    <div class="mp-card-badges">
                        @if (!string.IsNullOrEmpty(match.ActualScore))
                        {
                            if (match.IsLive)
                            {
                                <span class="mp-score mp-score-live">üî¥ @match.ActualScore</span>
                            }
                            else
                            {
                                var isCorrect = match.PredictedOutcome == match.ActualOutcome;
                                <span class="mp-score @(isCorrect ? "mp-score-correct" : "mp-score-incorrect")">
                                    @match.ActualScore
                                </span>
                            }
                        }
                        <span class="mp-prediction-badge mp-badge-draw">Draw ‚úì</span>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <div class="mp-empty-state">
            <div class="mp-empty-state-icon">ü§ù</div>
            <p>No Draw predictions available for today yet.</p>
            <p style="font-size: 0.85rem; margin-top: 0.5rem;">Predictions are updated daily. Check back soon!</p>
        </div>
    }
</div>